ifndef::imagesdir[:imagesdir: ../images]

[[section-runtime-view]]
== Vista de Ejecución

=== Escenario de Registro de Usuario

This scenario describes how a new user registers in the application. The Webapp captures the data and communicates with the Users Service to store the information.

* *Notably*: The separation between the frontend (Webapp) and the backend (Users Service) allows the logic to be decoupled.
* *API Usage*: The Users Service exposes a REST API on port 3000.

[plantuml,"Registration_Sequence",png]
----
actor User
participant "Webapp (React)" as Webapp
participant "Users Service (Node)" as Users

User -> Webapp: Enters username/email
activate Webapp
Webapp -> Users: POST /createuser (user data)
activate Users
note right of Users: Validates data \nand creates user
Users --> Webapp: 200 OK (Welcome Message)
deactivate Users
Webapp --> User: Displays success message
deactivate Webapp
----

=== Escenario de cálculo de Movimiento

This scenario illustrates how the application requests a move or a game action from the GameY engine. Although the engine is built in Rust, it exposes an interface accessible via HTTP.

* *Performance*: The heavy logic (calculating the move) is offloaded to the Rust service.
* *Interoperability*: The React frontend communicates with the Rust backend via HTTP requests on port 4000.

[plantuml,"Game_Move_Sequence",png]
----
actor User
participant "Webapp (React)" as Webapp
participant "GameY Engine (Rust)" as Gamey

User -> Webapp: Asks for Bot Move / Starts Game
activate Webapp
Webapp -> Gamey: Request Move (Current Game State)
activate Gamey
note right of Gamey: Rust logic calculates\nthe best random piece
Gamey --> Webapp: Return Move Coordinates/Piece
deactivate Gamey
Webapp -> Webapp: Update Board UI
Webapp --> User: Shows new state
deactivate Webapp
----